CREATE DATABASE THUVIEN;
GO
USE THUVIEN;
GO

--2.1A
CREATE PROC HELLO
AS 
BEGIN 
PRINT 'HELLO';
END 
GO

--B
CREATE PROC XINCHAO
AS 
BEGIN 
PRINT N'XIN CHÀO';
END 
GO

--C
CREATE PROC XINCHAOTEN
@TEN VARCHAR(255)
AS 
BEGIN 
PRINT N'XIN CHÀO'+@TEN;
END 
GO

--C
CREATE PROC XINCHAOTENBAN
@TEN VARCHAR(255)='SANG'
AS 
BEGIN 
PRINT N'XIN CHÀO'+@TEN;
END 
GO

--E
CREATE PROC TINHTONG
@S1 INT, @S2 INT,@TONG INT OUT
AS
BEGIN
SET @TONG=@S1+@S2;
END
GO

--F
ALTER PROC TINHTONG2
	@S1 INT, @S2 INT,@TONG INT OUT
AS
BEGIN
	SET @TONG=@S1+@S2;
	PRINT N'TỔNG LÀ: '+CAST(@TONG AS NVARCHAR);
END
GO

--G
DECLARE @SUM INT;
EXEC TINHTONG2 1,5,@SUM OUT
--SELECT @SUM
GO

--H
CREATE PROC TIMMAX
	@S1 INT, @S2 INT,@MAX INT OUT
AS
BEGIN
	IF @S1>@S2 BEGIN
		SET @MAX=@S1
	END
	ELSE BEGIN
		SET @MAX=@S2
	END
	PRINT @MAX;
END
GO

--I
CREATE PROC TIMMAX2
	@S1 INT, @S2 INT,@MAX INT OUT
AS
BEGIN
	IF @S1>@S2 BEGIN
		SET @MAX=@S1
	END
	ELSE BEGIN
		SET @MAX=@S2
	END
	PRINT N'MAX LÀ: '+CAST(@MAX AS NVARCHAR);
END
GO

DECLARE @MAX INT
EXEC TIMMAX2 1,6,@MAX OUT
GO

--2.2L
ALTER PROC PRINT_ONE_TO_N
@N INT,@I INT
AS
BEGIN 
SET @I=0
WHILE @I<@N
	BEGIN
	PRINT @I+1;
	SET @I=@I+1;
	END
END
GO

EXEC PRINT_ONE_TO_N 10,0
GO

--M

ALTER PROC PRINT_ONE_TO_N_CHAN
@N INT,@I INT
AS
BEGIN 
	SET @I=0
	WHILE @I<@N
		BEGIN
		IF @I%2=0
			BEGIN
			PRINT @I;
			
			END
			SET @I=@I+1;
	END
END
GO

EXEC PRINT_ONE_TO_N_CHAN 10,1
GO

--N
ALTER PROC PRINT_ONE_TO_N_CHAN_SL
@N INT,@I INT,@SL INT OUT
AS
BEGIN 
	SET @I=0
	SET @SL=0
	WHILE @I<@N
		BEGIN
		IF @I%2=0
			BEGIN
			SET @SL=@SL+1;
			END
			SET @I=@I+1;
			
	END
	PRINT @SL
END
GO

DECLARE @SL INT
EXEC PRINT_ONE_TO_N_CHAN_SL 10,1,@SL OUT
GO

--O
ALTER PROC TIM_UCLN
@A INT,@B INT,@UCLN INT OUT
AS
BEGIN 
	SET @A=ABS(@A)
	SET @B=ABS(@B)
	IF @A=0 AND @B=0
		BEGIN
		SET @UCLN=@A+@B;
		END

	WHILE @A!=@B
		BEGIN
			IF(@A>@B)
				BEGIN
				SET @A=@A-@B
				END
			ELSE
				BEGIN
				SET @B=@B-@A;
				END
		END
		SET @UCLN=@A;
		PRINT @UCLN

END
GO

DECLARE @UCLN INT
EXEC TIM_UCLN 10,5,@UCLN OUT
GO

--2.3A
ALTER PROC GCD
@A INT , @B INT,@UCLN INT OUT
AS
BEGIN
	DECLARE @TEMP INT
	WHILE @B!=0
		BEGIN
			SET @TEMP=@A%@B
			SET @A=@B
			SET @B=@TEMP
		END
		SET @UCLN=@A
END
GO

--ĐỆ QUY
CREATE PROC GCD2
@A INT , @B INT,@UCLN INT OUT
AS
	BEGIN
	IF @B=0
		BEGIN
		SET @UCLN=@A
		END
	ELSE
		BEGIN
		DECLARE @TEMP INT
		SET @TEMP=@A%@B;
		EXEC GCD2 @B,@TEMP,@UCLN OUT
		END
	END
GO

DECLARE @UCLN INT
EXEC GCD2 1,3,@UCLN OUT
SELECT @UCLN
GO
--2.3S
CREATE PROC DEQUY_S
@N INT,@KQ NVARCHAR(255)
AS
	BEGIN
		IF @N=0
			BEGIN
				PRINT @N
			END
		ELSE
			BEGIN
				SET @N=@N-1;
				EXEC DEQUY_S @N,@KQ+'0'
				EXEC DEQUY_S @N,@KQ+'1'
			END
	END
GO
